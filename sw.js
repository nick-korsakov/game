// Копирование файлов приложения в локальный кеш браузера пользователя.
self.addEventListener('install', (e) => {
  e.waitUntil(
    caches.open('game-store').then((cache) => cache.addAll([
      '/game/',
      '/game/css/style.css',
      '/game/img/kee.jpg',
      '/game/img/main.gif',
      '/game/img/win.gif',
      '/game/js/index.js',
      '/game/js/jquery-3.3.1.js',
      '/game/js/shortcut.js',
      '/game/js/main.js',
      '/game/sw.js',
      '/game/game.html',
      '/game/index.html',
      '/game/index1.1.html',
      '/game/index1.2.html',
      '/game/index1.3.html',
      '/game/index1.4.html',
      '/game/index1.5.html',
      '/game/index1.6.html',
      '/game/index1.7.html',
      '/game/index1.8.html',
      '/game/index1.9.html',
      '/game/index1.10.html',
      '/game/index1.11.html',
      '/game/index1.12.html',
      '/game/index1.13.html',
      '/game/index1.html',
      '/game/index2.html',
      '/game/index3.html',
      '/game/index4.html',
      '/game/index5.html',
      '/game/index6.html',
      '/game/index7.html',
      '/game/index8.html',
      '/game/index9.1.html',
      '/game/index10.html',
      '/game/index11.html',
      '/game/index12.html',
      '/game/index13.html',
      '/game/index14.html',
      '/game/index15.html',
      '/game/index16.html',
      '/game/index17.html',
      '/game/index18.html',
      '/game/index19.html',
      '/game/index20.html',
      '/game/index21.html',
      '/game/index22.1.html',
      '/game/index22.2.html',
      '/game/index22.3.html',
      '/game/index22.4.html',
      '/game/index22.5.html',
      '/game/index23.html',
      '/game/index24.html',
      '/game/index25.html',
      '/game/index26.html',
      '/game/index27.html',
      '/game/index28.html',
      '/game/index29.html',
      '/game/index30.html',
      '/game/index31.html',
      '/game/index32.1.html',
      '/game/index32.2.html',
      '/game/index32.html',
      '/game/index33.1.html',
      '/game/index33.2.html',
      '/game/index33.html',
      '/game/index34.1.html',
      '/game/index34.html',
      '/game/index35.html',
      '/game/index36.1.html',
      '/game/index36.html',
      '/game/index37.1.html',
      '/game/index38.html',
      '/game/index39.html',
      '/game/index40.html',
      '/game/index41.html',
      '/game/index42.html',
      '/game/index43.html',
      '/game/index44.html',
      '/game/index45.html',
      '/game/index46.html',
      '/game/index47.html',
      '/game/index48.html',
      '/game/index49.html',
      '/game/index50.html',
      '/game/index51.html',
      '/game/index52.html',
      '/game/index53.html',
      '/game/index54.html',
      '/game/index55.html',
      '/game/index56.html',
      '/game/menu.html',
      '/game/training.html',
    ])),
  );
});

// Обновление файлов приложения в локальном кеше браузера пользователя при подключении к сети.
self.addEventListener('fetch', (e) => {
  console.log(e.request.url);
  e.respondWith(
    caches.match(e.request).then((response) => response || fetch(e.request)),
  );
});
